name: Test

on: [push, pull_request]
jobs:
  test:
    permissions:
        contents: read
    runs-on: macos-15
    timeout-minutes: 10
    steps:
    - uses: actions/checkout@v5
    - name: Set Environment
      run: sudo xcrun xcode-select -s /Applications/Xcode_26.0.app
    - name: Test Main Packages
      run: swift test --build-system swiftbuild --package-path Sources/Packages
    - name: Test SecretKit Packages
      run: swift test --build-system swiftbuild
